(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
  typeof define === 'function' && define.amd ? define(['exports'], factory) :
  (global = global || self, factory(global.iyuo = {}));
}(this, (function (exports) { 'use strict';

  function getPartNames(e,t){var n=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(t),r=n.filter((function(e){return i.indexOf(e)>-1}));return n=n.filter((function(e){return r.indexOf(e)<0})),i=i.filter((function(e){return r.indexOf(e)<0})),{left:n,middle:r,right:i}}function clearNames(e,t){for(var n=0;n<t.length;n++)delete e[t[n]];}function attach(e,t,n){if(e!==t)for(var i=0;i<n.length;i++){var r=Object.getOwnPropertyDescriptor(t,n[i]);Object.defineProperty(e,n[i],r);}}function isFunction(e){return "function"==typeof e&&"number"!=typeof e.nodeType}function isPlainObject(e){var t,n,i=Object.prototype.toString,r=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,c=o.toString,f=c.call(Object);return !(!e||"[object Object]"!==i.call(e))&&(!(t=r(e))||"function"==typeof(n=o.call(t,"constructor")&&t.constructor)&&c.call(n)===f)}function extend(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,i,r,o,c,f,l=arguments[0]||{},s=1,a=arguments.length,p=!1;for("boolean"==typeof l&&(p=l,l=arguments[s]||{},s++),"object"==typeof l||isFunction(l)||(l={}),s===a&&(l={},s--);s<a;s++)if(null!=(n=arguments[s]))for(i in n)o=n[i],"__proto__"!==i&&l!==o&&(p&&o&&(isPlainObject(o)||(c=Array.isArray(o)))?(r=l[i],f=c&&!Array.isArray(r)?[]:c||isPlainObject(r)?r:{},c=!1,l[i]=extend(p,f,o)):void 0!==o&&(l[i]=o));return l}function mergeObjects(e,t,n){if(e!==t)for(var i=0;i<n.length;i++)if(null===t[n[i]]||["string","boolean","null","undefined","symbol","number","bigint","regexp"].indexOf((typeof t[n[i]]).toLowerCase())>-1){var r=Object.getOwnPropertyDescriptor(t,n[i]);Object.defineProperty(e,n[i],r);}else e[n[i]]=extend(!0,e[n[i]],t[n[i]]);}function joinSource(e,t){if((15|t)<=0)throw new Error("Invalid join type. Please select join type");if(t===(exports.JoinTypes.left|exports.JoinTypes.midLeft))return this;var n=getPartNames(this,e);switch(t&exports.JoinTypes.midMerge){case exports.JoinTypes.none:clearNames(this,n.middle);break;case exports.JoinTypes.midLeft:break;case exports.JoinTypes.midRight:attach(this,e,n.middle);break;case exports.JoinTypes.midMerge:mergeObjects(this,e,n.middle);}return (t&exports.JoinTypes.left)!==exports.JoinTypes.left&&clearNames(this,n.left),(t&exports.JoinTypes.right)===exports.JoinTypes.right&&attach(this,e,n.right),this}!function(e){e[e.none=0]="none",e[e.left=8]="left",e[e.right=1]="right",e[e.midLeft=4]="midLeft",e[e.midRight=2]="midRight",e[e.midMerge=6]="midMerge",e[e.innerJoin=6]="innerJoin",e[e.leftJoin=14]="leftJoin",e[e.rightJoin=7]="rightJoin",e[e.fullJoin=15]="fullJoin";}(exports.JoinTypes||(exports.JoinTypes={}));function join(e,t){return function(){return joinSource.call(this,t,e)}}

  exports.join = join;

  Object.defineProperty(exports, '__esModule', { value: true });

})));
